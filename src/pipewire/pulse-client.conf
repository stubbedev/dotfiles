# PulseAudio client configuration for flatpak applications
# This fixes audio popping in flatpak apps using PipeWire's PulseAudio compatibility layer
#
# Flatpaks connect to PipeWire through the PulseAudio interface, so they need
# larger buffer sizes when using USB docks and KVM switches.
#
# This file should be symlinked to:
# - ~/.config/pulse/client.conf (for system-wide flatpak default)
# - ~/.var/app/APP_ID/config/pulse/client.conf (for specific apps)

# Increase default fragment size to prevent underruns
default-fragment-size-msec = 21

# Increase buffer size for stability with USB audio devices
default-buffer-size-msec = 42

# Prevent sample rate mismatches
default-sample-rate = 48000
alternate-sample-rate = 48000

# Avoid resampling when possible
resample-method = speex-float-10

# Disable timer-based scheduling (can cause popping)
enable-remixing = yes
flat-volumes = no
