#!/bin/bash

function is_binary {
	if [[ $(command -v "$1") ]]; then
		true
	else
		false
	fi
}

function is_directory {
	if test -d "$1"; then
		true
	else
		false
	fi
}

function is_file {
	if test -f "$1"; then
		true
	else
		false
	fi
}

function has_string {
  if grep -Fxq "$1" "$2"; then
    true
  else
    false
  fi
}

if is_binary nala; then
	function npt {
		if [ "$1" = "i" ]; then
			sudo nala install "${@:2}"
		fi
		if [ "$1" = "u" ]; then
			sudo nala update "${@:2}"
		fi
		if [ "$1" = "ug" ]; then
			sudo nala upgrade "${@:2}"
		fi
		if [ "$1" = "s" ]; then
			sudo nala search "${@:2}"
		fi
		if [ "$1" = "r" ]; then
			sudo nala remove "${@:2}"
		fi
	}
fi

if is_binary grep; then
	function fa {
		grep -H -r "$1" ./* | less
	}
fi

if is_binary phpcs; then
	function php_lint {
		phpcs --standard="$1" "$2"
	}
fi

if is_binary phpcbf; then
	function php_fix {
		phpcbf --standard="$1" "$2"
	}
fi

if is_binary docker; then
	function docker_killall {
		docker kill "$(docker ps -q)"
	}
fi

if is_binary ss; then
	function pid_on_port {
		ss -lptn " sport = :$1"
	}
fi

if is_binary curl; then
	function color_swatches {
		curl -s "https://gist.githubusercontent.com/HaleTom/89ffe32783f89f403bba96bd7bcd1263/raw/e50a28ec54188d2413518788de6c6367ffcea4f7/print256colours.sh" | bash
	}
fi

function handle_ize_files {
	for f in *\ *; do mv "$f" "${f// /_}"; done
	ls | while read upName; do
		loName=$(echo "${upName}" | tr '[:upper:]' '[:lower:]')
		mv "$upName" "$loName"
	done
}

alias legacy_ssl_node="export NODE_OPTIONS=--openssl-legacy-provider"
alias st_config=' /home/stubbe/.stubbe/builds/st/config.h'
alias st_build='cd /home/stubbe/.stubbe/builds/st && sudo make clean install && cd /home/stubbe && echo reopen terminal!'
alias screens="screen -ls"
alias ta="tmux a"
alias tls="tmux ls"
alias tn='tmux new -s "${PWD//[\.+]/_}"'


